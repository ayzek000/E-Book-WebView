# DressLine Mobile Web (PWA)

Это мобильная версия приложения DressLine, реализованная с использованием Progressive Web App (PWA) подхода. Приложение включает красивый экран загрузки с анимацией безопасности, поддержку оффлайн-режима и возможность установки на домашний экран мобильных устройств.

## Функциональность

- ✅ Красивый экран загрузки с анимацией безопасности
- ✅ Поддержка светлой и темной темы
- ✅ Работа в оффлайн-режиме с помощью Service Worker
- ✅ Возможность установки на домашний экран (PWA)
- ✅ Адаптивный дизайн для всех устройств
- ✅ Кэширование данных для быстрой загрузки

## Установка и запуск

### Локальная разработка

1. Запустите ваше основное веб-приложение DressLine на локальном сервере:
   ```bash
   cd /путь/к/вашему/проекту
   npm run dev  # или другая команда для запуска вашего веб-приложения
   ```

2. Откройте файл `index.html` в мобильном браузере или используйте локальный сервер для его обслуживания.

3. Для тестирования PWA функциональности, рекомендуется использовать HTTPS даже в локальной разработке. Вы можете использовать [ngrok](https://ngrok.com/) или [localtunnel](https://github.com/localtunnel/localtunnel) для создания временного HTTPS URL:
   ```bash
   npx localtunnel --port 5173  # Предполагая, что ваше приложение работает на порту 5173
   ```

### Подготовка к продакшену

1. Замените URL вашего веб-приложения в файле `index.html`:
   ```javascript
   const webAppUrl = 'https://your-production-url.com';  // Замените на URL вашего веб-приложения
   ```

2. Создайте иконки для PWA разных размеров и поместите их в папку `icons/`. Вы можете использовать онлайн-инструменты, такие как:
   - [PWA Builder](https://www.pwabuilder.com/)
   - [App Manifest Generator](https://app-manifest.firebaseapp.com/)
   - [Maskable.app Editor](https://maskable.app/editor)

3. Разместите ваше PWA на хостинге с поддержкой HTTPS (необходимо для работы Service Worker и установки PWA).

### Установка на мобильное устройство

#### Android (Chrome)
1. Откройте ваше PWA в Chrome
2. Нажмите на меню (три точки в правом верхнем углу)
3. Выберите «Установить приложение» или «Добавить на главный экран»

#### iOS (Safari)
1. Откройте ваше PWA в Safari
2. Нажмите на кнопку «Поделиться» (квадрат с стрелкой вверх)
3. Прокрутите вниз и выберите «На экран «Домой»»
4. Нажмите «Добавить»

## Структура проекта

```
dressline-mobile-web/
├── icons/                  # Иконки для PWA разных размеров
├── index.html              # Основной файл с WebView и экраном загрузки
├── manifest.json           # Манифест для PWA
├── offline.html            # Страница, отображаемая в оффлайн-режиме
├── service-worker.js       # Service Worker для кэширования и оффлайн-режима
└── README.md               # Документация
```

## Настройка для различных сценариев

### Изменение URL веб-приложения

Откройте файл `index.html` и найдите следующий код:

```javascript
const webAppUrl = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' 
    ? 'http://localhost:5173' 
    : 'https://your-production-url.com';
```

Замените `'https://your-production-url.com'` на URL вашего веб-приложения в продакшене.

### Настройка кэширования

Откройте файл `service-worker.js` и измените список файлов для кэширования:

```javascript
const urlsToCache = [
  './',
  './index.html',
  './manifest.json',
  './offline.html',
  // Добавьте другие файлы, которые хотите кэшировать
];
```

### Настройка манифеста PWA

Откройте файл `manifest.json` и настройте параметры вашего приложения:

```json
{
  "name": "DressLine",              // Полное название приложения
  "short_name": "DressLine",        // Короткое название для иконки
  "description": "Ваше описание",   // Описание приложения
  "start_url": "./index.html",      // Начальная страница
  "display": "standalone",          // Режим отображения (standalone, fullscreen, minimal-ui, browser)
  "background_color": "#121212",    // Цвет фона при загрузке
  "theme_color": "#4F46E5"          // Цвет темы для панели задач/статуса
}
```

## Преимущества PWA подхода

1. **Единая кодовая база**: Используется ваше существующее веб-приложение без необходимости переписывать код
2. **Установка без App Store**: Пользователи могут установить приложение прямо из браузера
3. **Автоматические обновления**: Пользователи всегда получают последнюю версию приложения
4. **Оффлайн-режим**: Приложение работает даже без интернета
5. **Экономия ресурсов**: Не требуется поддерживать отдельные нативные приложения для iOS и Android

## Для создания полностью нативного приложения

Если вам нужно создать полностью нативное приложение для Android или iOS, вы можете использовать:

1. **[PWA Builder](https://www.pwabuilder.com/)** - преобразует ваше PWA в нативные приложения для разных платформ
2. **[Capacitor](https://capacitorjs.com/)** - создает нативную оболочку вокруг вашего веб-приложения с доступом к нативным API
3. **[Cordova](https://cordova.apache.org/)** - альтернатива Capacitor для создания гибридных приложений
4. **Нативный WebView** - создание простого нативного приложения с WebView в Android Studio или Xcode

## Дополнительные улучшения

- **Push-уведомления**: Добавьте поддержку push-уведомлений с помощью Web Push API
- **Улучшенное кэширование**: Реализуйте стратегии кэширования для различных типов ресурсов
- **Фоновая синхронизация**: Добавьте синхронизацию данных в фоновом режиме
- **Геолокация**: Используйте Geolocation API для функций, зависящих от местоположения
- **Улучшенная безопасность**: Внедрите дополнительные меры безопасности, такие как HTTPS, CSP и CORS

## Поддержка и обратная связь

Если у вас возникли вопросы или предложения по улучшению мобильной версии DressLine, пожалуйста, создайте issue в репозитории проекта или свяжитесь с командой разработки.
